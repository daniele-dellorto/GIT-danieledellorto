<html>

<head>

  <script src="jquery.js"></script>

  <style>

  .container{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    height:60vh;
    width:60vh;
  }

  .quadrato{
    position:absolute;
    width:4vh;
    height:4vh;
  }

  .alto{
    top:0%;
  }

  .basso{
    top:100%;
  }

  .sinistra{
    left:0%;
  }

  .destra{
    left:100%;
  }

  @keyframes scambio1{
    from{left:0;}
    to{left:100%;transform:translate(-100%,0);}
  }

  @keyframes scambio2{
    from{left:100%;transform:translate(-100%,0);}
    to{left:0;}
  }

  .scambiato1{
    animation:scambio1 1s linear forwards;
  }

  .scambiato2{
    animation:scambio2 1s linear forwards;
  }

  .alto.destra{
    transform:translate(-100%,0);
  }

  .basso.destra{
    transform:translate(-100%,-100%);
  }

  .basso.sinistra{
    transform:translate(0,-100%);
  }

  #q1{
    background-color:red;
  }

  #q2{
    background-color:blue;
  }

  #q3{
    background-color:green;
  }

  #q4{
    background-color:yellow;
  }

  @keyframes rotazione{
    from{transform:translate(-50%,-50%)rotate(0deg);}
    to{transform:translate(-50%,-50%)rotate(360deg);}
  }

  .rotante{
    animation:rotazione 1s linear infinite;
  }

  </style>

</head>

<body>

  <div class="container">
    <div id="q1" class="quadrato alto sinistra"></div>
    <div id="q2" class="quadrato alto destra"></div>
    <div id="q3" class="quadrato basso destra"></div>
    <div id="q4" class="quadrato basso sinistra"></div>
  </div>

  <script>

  function sequenza(){
    if($("#q1").hasClass("scambiato1")){
      $(".container").addClass("rotante")}
    else{$("#q1").removeClass("sinistra")
         $("#q1").addClass("scambiato1")
         $("#q2").removeClass("destra")
         $("#q2").addClass("scambiato2")}
  }

  $("#q1").click(sequenza)

  function stop(){
    $(".container").removeClass("rotante")}

  $(".quadrato").hover(stop)

  </script>

</body>

</html>
